type S = { x : int; y : int };

type R = { x : S };

node f (s : S; r : R) returns (q : R);
let
  q = r { x := s };
tel

node main(s : S; z : int) returns (t : S; r : R)
var y : R;
let
  t = s { x := z };
  y = R { x = t };
  r = f(t, y);
tel